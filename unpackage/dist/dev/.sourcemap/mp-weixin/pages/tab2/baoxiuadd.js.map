{"version":3,"sources":["uni-app:///main.js","webpack:///E:/objectNew/test/hello2/pages/tab2/baoxiuadd.vue?7a32","webpack:///E:/objectNew/test/hello2/pages/tab2/baoxiuadd.vue?77bb","webpack:///E:/objectNew/test/hello2/pages/tab2/baoxiuadd.vue?0402","webpack:///E:/objectNew/test/hello2/pages/tab2/baoxiuadd.vue?c464","uni-app:///pages/tab2/baoxiuadd.vue","webpack:///E:/objectNew/test/hello2/pages/tab2/baoxiuadd.vue?17a2"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","renderjs","component","options","__file","components","uForm","uFormItem","uInput","uButton","uTag","uUpload","uSelect","uToast","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","_self","_c","_isMounted","e0","$event","qzjSelectShow","e1","ssjgSelectShow","recyclableRender","staticRenderFns","_withStripped"],"mappings":"kIAAA,KACA,YACA,Y,mDAFmBA,GAAGC,kCAAoCC,EAG1DC,EAAWC,a,gECHX,yHACIC,EADJ,QASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,2BACZ,aAAAF,E,0CCvBf,uQ,iCCAA,IAAIG,EAAJ,0LACA,IACEA,EAAa,CACXC,MAAO,WACL,OAAO,iEAITC,UAAW,WACT,OAAO,+GAITC,OAAQ,WACN,OAAO,uGAITC,QAAS,WACP,OAAO,qEAITC,KAAM,WACJ,OAAO,+DAITC,QAAS,WACP,OAAO,yGAITC,QAAS,WACP,OAAO,qEAITC,OAAQ,WACN,OAAO,oEAKX,MAAOC,GACP,IAC+C,IAA7CA,EAAEC,QAAQC,QAAQ,wBACa,IAA/BF,EAAEC,QAAQC,QAAQ,QAWlB,MAAMF,EATNG,QAAQC,MAAMJ,EAAEC,SAChBE,QAAQC,MAAM,mBACdD,QAAQC,MACN,uFAEFD,QAAQC,MACN,mDAMN,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,GACdL,EAAIM,aACPN,EAAIO,GAAK,SAASC,GAChBR,EAAIS,eAAgB,GAGtBT,EAAIU,GAAK,SAASF,GAChBR,EAAIW,gBAAiB,KAIvBC,GAAmB,EACnBC,EAAkB,GACtBd,EAAOe,eAAgB,G,iCC7EvB,8GAAipB,eAAG,G,gHCsDppB,Y,ghCAGA,CACA,KADA,WAEA,OACA,MACA,MACA,YACA,YACA,aACA,aACA,OACA,gBACA,iBACA,cACA,eACA,mBACA,eAEA,YACA,qCACA,MACA,YACA,aACA,aAEA,YACA,mBACA,iBACA,kBACA,WACA,YACA,OACA,WACA,YACA,kBACA,iBAEA,YACA,YACA,kBACA,iBAEA,aACA,YACA,kBACA,iBAEA,gBACA,YACA,kBACA,oBAKA,YACA,SACA,UADA,SACA,aACA,eADA,IACA,0CACA,eACA,uCACA,QAJA,gCAQA,UATA,SASA,KACA,eACA,wBAFA,UAGA,GAHA,IAGA,0CACA,2CAJA,gCAOA,cAhBA,SAgBA,GACA,kCAGA,cApBA,WAqBA,uCACA,sBACA,sBACA,sBAEA,oBACA,sBACA,wBAEA,uBAGA,eAjCA,WAkCA,yCACA,uBACA,wBAEA,eAtCA,WAsCA,WACA,GACA,YACA,YACA,UACA,aAEA,2DACA,gBAGA,OACA,YACA,aACA,sBAEA,wDACA,cADA,UAEA,GAFA,IAEA,0CACA,iBACA,YACA,gBALA,8BAQA,iBACA,qBAIA,WAnEA,WAmEA,aACA,KADA,IAEA,eAFA,IAEA,0CACA,iBACA,gBAJA,8BAOA,eACA,cAOA,uDACA,uCACA,MACA,qBACA,OACA,kBACA,wBACA,0BACA,6BACA,+BACA,yBACA,gCACA,gCACA,mCACA,gCACA,iDACA,wCAEA,GACA,uBACA,QAEA,mBACA,SACA,YACA,SACA,sBACA,UAEA,iCACA,qBACA,QACA,iBAEA,uBACA,qBACA,mBACA,aA3CA,wBACA,gBACA,gBA8CA,gBA5HA,SA4HA,GACA,8BACA,8BACA,kBAEA,iBAjIA,SAiIA,GACA,+BACA,gCAEA,WArIA,WAqIA,qEACA,GACA,wCAEA,wDACA,aAGA,eACA,aALA,UAMA,GANA,IAMA,0CACA,gBACA,WACA,iBATA,8BAYA,IACA,mCACA,oCAEA,oBAGA,SA5JA,WA4JA,WAEA,iBACA,OACA,qBACA,WACA,aAEA,sDACA,iBACA,eACA,0BACA,4BACA,+BACA,iCACA,2BACA,kCACA,kCACA,qCACA,kCAEA,IAbA,EAaA,kCAbA,IAcA,YAdA,IAcA,gDACA,GADA,IACA,0CACA,aACA,gBAHA,gCAdA,8BAqBA,qDACA,cAtBA,UAuBA,mBAvBA,IAuBA,0CACA,iBACA,6CAzBA,8BA4BA,yBAGA,mDACA,gDACA,qBAGA,UAxMA,WAwMA,qEACA,GACA,uBACA,mCACA,UACA,OAEA,iBACA,4DACA,gBAMA,OAJA,oBACA,oBACA,yBACA,oBAGA,oBACA,mBAVA,UAWA,GAXA,IAWA,0CACA,iBACA,WACA,+BAdA,8BAiBA,IACA,qCACA,2CAKA,QA/RA,WAgSA,uCAEA,OAlSA,aAmSA,OAnSA,SAmSA,GACA,iBACA,eACA,kBACA,wB,2EChWA,8GAA+6B,eAAG,G","file":"pages/tab2/baoxiuadd.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/tab2/baoxiuadd.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./baoxiuadd.vue?vue&type=template&id=7fdf4174&\"\nvar renderjs\nimport script from \"./baoxiuadd.vue?vue&type=script&lang=js&\"\nexport * from \"./baoxiuadd.vue?vue&type=script&lang=js&\"\nimport style0 from \"./baoxiuadd.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/tab2/baoxiuadd.vue\"\nexport default component.exports","export * from \"-!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./baoxiuadd.vue?vue&type=template&id=7fdf4174&\"","var components\ntry {\n  components = {\n    uForm: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-form/u-form\" */ \"@/uview-ui/components/u-form/u-form.vue\"\n      )\n    },\n    uFormItem: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-form-item/u-form-item\" */ \"@/uview-ui/components/u-form-item/u-form-item.vue\"\n      )\n    },\n    uInput: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-input/u-input\" */ \"@/uview-ui/components/u-input/u-input.vue\"\n      )\n    },\n    uButton: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-button/u-button\" */ \"@/uview-ui/components/u-button/u-button.vue\"\n      )\n    },\n    uTag: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-tag/u-tag\" */ \"@/uview-ui/components/u-tag/u-tag.vue\"\n      )\n    },\n    uUpload: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-upload/u-upload\" */ \"@/uview-ui/components/u-upload/u-upload.vue\"\n      )\n    },\n    uSelect: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-select/u-select\" */ \"@/uview-ui/components/u-select/u-select.vue\"\n      )\n    },\n    uToast: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-toast/u-toast\" */ \"@/uview-ui/components/u-toast/u-toast.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.qzjSelectShow = true\n    }\n\n    _vm.e1 = function($event) {\n      _vm.ssjgSelectShow = true\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./baoxiuadd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./baoxiuadd.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"content\">\r\n\t\t<u-form :model=\"form\" :error-type=\"['message']\" :label-width=\"165\" ref=\"uForm\" style=\"margin: 0rpx 30rpx;\">\r\n\t\t\t<u-form-item label=\"起重机\" prop=\"qzjLabel\" :required=\"true\">\r\n\t\t\t\t<u-input v-if=\"show.qzjInput\" v-model=\"form.qzjLabel\" />\r\n\t\t\t\t<u-input v-else v-model=\"form.qzjLabel\" type=\"select\" @click=\"qzjSelectShow = true\" />\r\n\t\t\t\t<u-button v-if=\"show.qzjInput\" type=\"primary\" size=\"mini\" @click=\"changeQzjShow\"\r\n\t\t\t\t\tstyle=\"position: absolute;right: 30rpx;top:20rpx;z-index: 9;\">选择</u-button>\r\n\t\t\t\t<u-button v-else type=\"success\" size=\"mini\" @click=\"changeQzjShow\"\r\n\t\t\t\t\tstyle=\"position: absolute;right: 30rpx;top:20rpx;z-index: 9;\">手填</u-button>\r\n\t\t\t</u-form-item>\r\n\t\t\t<u-form-item label=\"所属机构\" prop=\"ssjgLabel\" :required=\"true\">\r\n\t\t\t\t<u-input v-if=\"show.ssjgInput\" v-model=\"form.ssjgLabel\" />\r\n\t\t\t\t<u-input v-else v-model=\"form.ssjgLabel\" type=\"select\" @click=\"ssjgSelectShow = true\" />\r\n\t\t\t\t<u-button v-if=\"show.ssjgInput && show.jgButton\" type=\"primary\" size=\"mini\" @click=\"changeSsjgShow\"\r\n\t\t\t\t\tstyle=\"position: absolute;right: 30rpx;top:20rpx;z-index: 9;\">选择</u-button>\r\n\t\t\t\t<u-button v-if=\"!show.ssjgInput && show.jgButton\" type=\"success\" size=\"mini\" @click=\"changeSsjgShow\"\r\n\t\t\t\t\tstyle=\"position: absolute;right: 30rpx;top:20rpx;z-index: 9;\">手填</u-button>\r\n\t\t\t</u-form-item>\r\n\t\t\t<u-form-item label=\"项目/工作号\">\r\n\t\t\t\t<u-input v-model=\"form.gzh\" type=\"text\" />\r\n\t\t\t</u-form-item>\r\n\t\t\t<u-form-item label=\"产品类型\" prop=\"product_type\" :required=\"true\">\r\n\t\t\t\t<u-tag :text=\"item.name\" :mode=\"item.mode\" type=\"success\" v-for=\"(item, index) in typeList\"\r\n\t\t\t\t\tshape=\"circle\" @click=\"tagSelect(item.name)\" style=\"margin-right: 10rpx;\" />\r\n\t\t\t</u-form-item>\r\n\t\t\t<u-form-item label=\"需求描述\">\r\n\t\t\t\t<u-input v-model=\"form.bug_description\" type=\"textarea\" :height=\"110\" :auto-height=\"true\" />\r\n\t\t\t</u-form-item>\r\n\t\t\t<u-form-item label=\"联系人\" prop=\"report_person\" :required=\"true\">\r\n\t\t\t\t<u-input v-model=\"form.report_person\" type=\"text\" />\r\n\t\t\t</u-form-item>\r\n\t\t\t<u-form-item label=\"联系电话\" prop=\"report_tel\" :required=\"true\">\r\n\t\t\t\t<u-input v-model=\"form.report_tel\" type=\"text\" />\r\n\t\t\t</u-form-item>\r\n\t\t\t<u-form-item label=\"上传\">\r\n\t\t\t\t<u-upload :action=\"action\" :show-progress=\"false\" :file-list=\"fileList\" @on-success=\"uploadSuccess\" @on-remove=\"removeImg\"></u-upload>\r\n\t\t\t</u-form-item>\r\n\t\t\t<view style=\"display: flex;\">\r\n\t\t\t\t<view style=\"width: 100rpx;\">提示：\r\n\t\t\t\t</view>\r\n\t\t\t\t<view style=\"color: grey;\">\r\n\t\t\t\t\t上传请尽可能体现出问题设备的型号、序列号或现象\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<u-button :disabled=\"submitButtonDis\" type=\"success\" @click=\"submitData\" style=\"margin-top: 20rpx;\">确 定</u-button>\r\n\t\t</u-form>\r\n\t\t<u-select v-model=\"qzjSelectShow\" :list=\"qzjList\" @confirm=\"qzjSelectChange\">\r\n\t\t</u-select>\r\n\t\t<u-select v-model=\"ssjgSelectShow\" :list=\"ssjgList\" @confirm=\"ssjgSelectChange\"></u-select>\r\n\t\t<u-toast ref=\"uToast\" />\r\n\t</view>\r\n</template>\r\n<script>\r\n\timport {\r\n\t\tBASE_URL\r\n\t} from '../../common/api.js'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tform: {\r\n\t\t\t\t\tid: '',\r\n\t\t\t\t\tcrane_id: '',\r\n\t\t\t\t\tqzjLabel: '',\r\n\t\t\t\t\tmechanism: '',\r\n\t\t\t\t\tssjgLabel: '',\r\n\t\t\t\t\tgzh: '', // 工作号\r\n\t\t\t\t\tproduct_type: '', // 产品类型\r\n\t\t\t\t\treport_person: '',\r\n\t\t\t\t\treport_tel: '',\r\n\t\t\t\t\treport_time: '',\r\n\t\t\t\t\tbug_description: '',\r\n\t\t\t\t\treport_img: []\r\n\t\t\t\t},\r\n\t\t\t\tfileList: [],\r\n\t\t\t\taction: BASE_URL + 'Image/PostUpload',\r\n\t\t\t\tshow: {\r\n\t\t\t\t\tqzjInput: false,\r\n\t\t\t\t\tssjgInput: false,\r\n\t\t\t\t\tjgButton: true\r\n\t\t\t\t},\r\n\t\t\t\ttypeList: [],\r\n\t\t\t\tsubmitButtonDis: false,\r\n\t\t\t\tqzjSelectShow: false,\r\n\t\t\t\tssjgSelectShow: false,\r\n\t\t\t\tqzjList: [],\r\n\t\t\t\tssjgList: [],\r\n\t\t\t\trules: {\r\n\t\t\t\t\tqzjLabel: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请输入具体内容',\r\n\t\t\t\t\t\ttrigger: 'blur',\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tssjgLabel: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请输入具体内容',\r\n\t\t\t\t\t\ttrigger: 'blur',\r\n\t\t\t\t\t}],\r\n\t\t\t\t\treport_tel: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请输入具体内容',\r\n\t\t\t\t\t\ttrigger: 'blur',\r\n\t\t\t\t\t}],\r\n\t\t\t\t\treport_person: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请输入具体内容',\r\n\t\t\t\t\t\ttrigger: 'blur',\r\n\t\t\t\t\t}]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {},\r\n\t\tmethods: {\r\n\t\t\ttagSelect(name) {\r\n\t\t\t\tfor (let item of this.typeList) {\r\n\t\t\t\t\tif (item.name === name) {\r\n\t\t\t\t\t\titem.mode = item.mode === 'plain' ? 'dark' : 'plain'\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tremoveImg(index, lists) {\r\n\t\t\t\tconsole.log(lists)\r\n\t\t\t\tthis.form.report_img = []\r\n\t\t\t\tfor (let item of lists) {\r\n\t\t\t\t\tthis.form.report_img.push(item.response.url)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tuploadSuccess(data) {\r\n\t\t\t\tthis.form.report_img.push(data.url)\r\n\t\t\t},\r\n\t\t\t// 切换起重机后 机构也清空\r\n\t\t\tchangeQzjShow() {\r\n\t\t\t\tthis.show.qzjInput = !this.show.qzjInput\r\n\t\t\t\tthis.form.qzjLabel = ''\r\n\t\t\t\tthis.form.crane_id = -1\r\n\t\t\t\tthis.changeSsjgShow()\r\n\t\t\t\t// 如果起重机是手填状态，则机构也必须为手填状所以隐藏按钮\r\n\t\t\t\tif (this.show.qzjInput) {\r\n\t\t\t\t\tthis.show.jgButton = false\r\n\t\t\t\t\tthis.show.ssjgInput = true\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.show.jgButton = true\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tchangeSsjgShow() {\r\n\t\t\t\tthis.show.ssjgInput = !this.show.ssjgInput\r\n\t\t\t\tthis.form.ssjgLabel = ''\r\n\t\t\t\tthis.form.mechanism = -1\r\n\t\t\t},\r\n\t\t\tgetProductType() {\r\n\t\t\t\tconst data = {\r\n\t\t\t\t\tpageIndex: 1,\r\n\t\t\t\t\tpageSize: 20,\r\n\t\t\t\t\tpid: 'all',\r\n\t\t\t\t\tname: '产品类型',\r\n\t\t\t\t}\r\n\t\t\t\tthis.$myHttp('Dict/SelectSysDictType', data).then(res => {\r\n\t\t\t\t\tif (res.Total === 0) {\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst typeP = {\r\n\t\t\t\t\t\tpageIndex: 1,\r\n\t\t\t\t\t\tpageSize: 1000,\r\n\t\t\t\t\t\tdict_id: res.Data[0].ID\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.$myHttp('Dict/SelectSysDictTree', typeP).then(typeP => {\r\n\t\t\t\t\t\tthis.typeList = []\r\n\t\t\t\t\t\tfor (let item of typeP) {\r\n\t\t\t\t\t\t\tthis.typeList.push({\r\n\t\t\t\t\t\t\t\tname: item.name,\r\n\t\t\t\t\t\t\t\tmode: 'plain'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconsole.log(222)\r\n\t\t\t\t\t\tthis.initData()\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsubmitData() {\r\n\t\t\t\tlet temp = []\r\n\t\t\t\tfor (let item of this.typeList) {\r\n\t\t\t\t\tif (item.mode === 'dark') {\r\n\t\t\t\t\t\ttemp.push(item.name)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(temp)\r\n\t\t\t\tif(temp.length === 0) {\r\n\t\t\t\t\tthis.$refs.uToast.show({\r\n\t\t\t\t\t\ttitle: '请选择产品类型',\r\n\t\t\t\t\t\ttype: 'error'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.form.product_type = temp.length > 0 ? JSON.stringify(temp) : ''\r\n\t\t\t\tthis.$refs.uForm.validate(valid => {\r\n\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\tthis.submitButtonDis = true\r\n\t\t\t\t\t\tlet subTemp = {\r\n\t\t\t\t\t\t\tOrderID: this.form.id,\r\n\t\t\t\t\t\t\tCraneID: this.form.crane_id,\r\n\t\t\t\t\t\t\tCraneName: this.form.qzjLabel,\r\n\t\t\t\t\t\t\tMechanismID: this.form.mechanism,\r\n\t\t\t\t\t\t\tMechanismName: this.form.ssjgLabel,\r\n\t\t\t\t\t\t\tProjectNumber: this.form.gzh,\r\n\t\t\t\t\t\t\tProductType: this.form.product_type,\r\n\t\t\t\t\t\t\tDescribe: this.form.bug_description,\r\n\t\t\t\t\t\t\tContactPerson: this.form.report_person,\r\n\t\t\t\t\t\t\tContactNumber: this.form.report_tel,\r\n\t\t\t\t\t\t\tPictureAddress: JSON.stringify(this.form.report_img),\r\n\t\t\t\t\t\t\tCompanyID: uni.getStorageSync('comanyId')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlet p = {\r\n\t\t\t\t\t\t\tinfo: JSON.stringify(subTemp),\r\n\t\t\t\t\t\t\ttype: 1\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlet url = 'Order/AddOrder'\r\n\t\t\t\t\t\tlet message = '新增成功' \r\n\t\t\t\t\t\tif(this.form.id){\r\n\t\t\t\t\t\t\tp.type = 5\r\n\t\t\t\t\t\t\turl = 'Order/UpdateOrder'\r\n\t\t\t\t\t\t\tmessage = '更新成功'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.$myHttp(url, p).then(res => {\r\n\t\t\t\t\t\t\tthis.$refs.uToast.show({\r\n\t\t\t\t\t\t\t\ttitle: message,\r\n\t\t\t\t\t\t\t\ttype: 'success'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\tthis.submitButtonDis = false\r\n\t\t\t\t\t\t\t\tuni.navigateBack()\r\n\t\t\t\t\t\t\t}, 600)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tqzjSelectChange(val) {\r\n\t\t\t\tthis.form.crane_id = val[0].value\r\n\t\t\t\tthis.form.qzjLabel = val[0].label\r\n\t\t\t\tthis.getJgList()\r\n\t\t\t},\r\n\t\t\tssjgSelectChange(val) {\r\n\t\t\t\tthis.form.mechanism = val[0].value\r\n\t\t\t\tthis.form.ssjgLabel = val[0].label\r\n\t\t\t},\r\n\t\t\tgetQzjList(isValue = false) {\r\n\t\t\t\tconst data = {\r\n\t\t\t\t\tSessionId: uni.getStorageSync('password')\r\n\t\t\t\t}\r\n\t\t\t\tthis.$myHttp('WaterData/CraneInfo', data).then(res => {\r\n\t\t\t\t\tif (!res.cranes) {\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst cranes = res.cranes\r\n\t\t\t\t\tthis.qzjList = []\r\n\t\t\t\t\tfor (let item of cranes) {\r\n\t\t\t\t\t\tthis.qzjList.push({\r\n\t\t\t\t\t\t\tvalue: item.ID,\r\n\t\t\t\t\t\t\tlabel: item.起重机名称\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!isValue) {\r\n\t\t\t\t\t\tthis.form.crane_id = this.qzjList[0].value\r\n\t\t\t\t\t\tthis.form.qzjLabel = this.qzjList[0].label\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.getJgList(isValue)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tinitData() {\r\n\t\t\t\t// 编辑\r\n\t\t\t\tif (this.form.id) {\r\n\t\t\t\t\tlet p = {\r\n\t\t\t\t\t\tOrderID: this.form.id,\r\n\t\t\t\t\t\tpageSize: 1,\r\n\t\t\t\t\t\tpageIndex: 1\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.$myHttp('Order/SelectOrder', p).then(res => {\r\n\t\t\t\t\t\tconsole.log(455)\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\tthis.form.crane_id= res.CraneID\r\n\t\t\t\t\t\tthis.form.qzjLabel= res.CraneName\r\n\t\t\t\t\t\tthis.form.mechanism = res.MechanismID\r\n\t\t\t\t\t\tthis.form.ssjgLabel = res.MechanismName\r\n\t\t\t\t\t\tthis.form.gzh = res.ProjectNumber\r\n\t\t\t\t\t\tthis.form.product_type = res.ProductType\r\n\t\t\t\t\t\tthis.form.bug_description = res.Describe\r\n\t\t\t\t\t\tthis.form.report_person = res.ContactPerson\r\n\t\t\t\t\t\tthis.form.report_tel = res.ContactNumber\r\n\t\t\t\t\t\t//type\r\n\t\t\t\t\t\tlet ptArr = JSON.parse(this.form.product_type)\r\n\t\t\t\t\t\tfor (let i of this.typeList) {\r\n\t\t\t\t\t\t\tfor (let j of ptArr) {\r\n\t\t\t\t\t\t\t\tif (i.name === j) {\r\n\t\t\t\t\t\t\t\t\ti.mode = 'dark'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.form.report_img = JSON.parse(res.PictureAddress || '[]')\r\n\t\t\t\t\t\tthis.fileList = []\r\n\t\t\t\t\t\tfor (let item of this.form.report_img) {\r\n\t\t\t\t\t\t\tthis.fileList.push({\r\n\t\t\t\t\t\t\t\turl:BASE_URL + '/Image/GetImage?image=' + item\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.getQzjList(true) // 有默认值\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.form.report_person = uni.getStorageSync('yonghu')\r\n\t\t\t\t\tthis.form.report_tel = uni.getStorageSync('tel') + ''\r\n\t\t\t\t\tthis.getQzjList(false) // 无默认值\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetJgList(isValue = false) {\r\n\t\t\t\tconst data = {\r\n\t\t\t\t\tcid: this.form.crane_id,\r\n\t\t\t\t\tTags: JSON.stringify(['mechanism']),\r\n\t\t\t\t\ttoLevel: 2,\r\n\t\t\t\t\tcal: 0\r\n\t\t\t\t}\r\n\t\t\t\tthis.ssjgList = []\r\n\t\t\t\tthis.$myHttp('AgentTree/GetNodesByTag', data).then(res => {\r\n\t\t\t\t\tif(res.length === 0) {\r\n\t\t\t\t\t\t// 起重机下没有机构 则切换到手填模式\r\n\t\t\t\t\t\tthis.show.ssjgInput = true\r\n\t\t\t\t\t\tthis.form.mechanism = -1\r\n\t\t\t\t\t\tthis.form.ssjgLabel = ''\r\n\t\t\t\t\t\tthis.show.jgButton = false\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.show.ssjgInput = false\r\n\t\t\t\t\tthis.show.jgButton = true\r\n\t\t\t\t\tfor (let item of res) {\r\n\t\t\t\t\t\tthis.ssjgList.push({\r\n\t\t\t\t\t\t\tvalue: item.ID,\r\n\t\t\t\t\t\t\tlabel: item.NodeConfig.ShowName\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!isValue) {\r\n\t\t\t\t\t\tthis.form.mechanism = this.ssjgList[0].value\r\n\t\t\t\t\t\tthis.form.ssjgLabel = this.ssjgList[0].label\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tonReady() {\r\n\t\t\tthis.$refs.uForm.setRules(this.rules)\r\n\t\t},\r\n\t\tonShow() {},\r\n\t\tonLoad(val) {\r\n\t\t\tconsole.log(111)\r\n\t\t\tconsole.log(val)\r\n\t\t\tthis.form.id = val.id\r\n\t\t\tthis.getProductType()\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.u-form-item--right__content__slot {\r\n\t\tflex-wrap: wrap !important;\r\n\t}\r\n</style>\n","import mod from \"-!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./baoxiuadd.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./baoxiuadd.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}