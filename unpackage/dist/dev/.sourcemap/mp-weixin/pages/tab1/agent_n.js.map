{"version":3,"sources":["uni-app:///main.js","webpack:///E:/objectNew/test/hello2/pages/tab1/agent_n.vue?ce11","webpack:///E:/objectNew/test/hello2/pages/tab1/agent_n.vue?88c3","webpack:///E:/objectNew/test/hello2/pages/tab1/agent_n.vue?e19a","webpack:///E:/objectNew/test/hello2/pages/tab1/agent_n.vue?b789","uni-app:///pages/tab1/agent_n.vue","webpack:///E:/objectNew/test/hello2/pages/tab1/agent_n.vue?e67b"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","renderjs","component","options","__file","components","uInput","uTabs","uLoading","uRow","uCol","uniCollapse","uniCollapseItem","uSubsection","uSelect","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","_self","_c","_isMounted","e0","$event","qzjSelectShow","recyclableRender","staticRenderFns","_withStripped"],"mappings":"gIAAA,KACA,YACA,Y,mDAFmBA,GAAGC,kCAAoCC,EAG1DC,EAAWC,a,gECHX,yHACIC,EADJ,QASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,yBACZ,aAAAF,E,0CCvBf,uQ,iCCAA,IAAIG,EAAJ,0LACA,IACEA,EAAa,CACXC,OAAQ,WACN,OAAO,uGAITC,MAAO,WACL,OAAO,qGAITC,SAAU,WACR,OAAO,uEAITC,KAAM,WACJ,OAAO,+DAITC,KAAM,WACJ,OAAO,+DAITC,YAAa,WACX,OAAO,6FAITC,gBAAiB,WACf,OAAO,uGAITC,YAAa,WACX,OAAO,6EAITC,QAAS,WACP,OAAO,sEAKX,MAAOC,GACP,IAC+C,IAA7CA,EAAEC,QAAQC,QAAQ,wBACa,IAA/BF,EAAEC,QAAQC,QAAQ,QAWlB,MAAMF,EATNG,QAAQC,MAAMJ,EAAEC,SAChBE,QAAQC,MAAM,mBACdD,QAAQC,MACN,uFAEFD,QAAQC,MACN,mDAMN,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,GACdL,EAAIM,aACPN,EAAIO,GAAK,SAASC,GAChBR,EAAIS,eAAgB,KAItBC,GAAmB,EACnBC,EAAkB,GACtBZ,EAAOa,eAAgB,G,iCC9EvB,8GAA+oB,eAAG,G,s+CCiJlpB,CACA,KADA,WAEA,OACA,cACA,OACA,aAEA,CACA,cAEA,WAEA,UACA,OACA,WACA,UACA,iBACA,UACA,WACA,UACA,OACA,aACA,cACA,cACA,eAEA,sBACA,eACA,iBACA,WACA,WACA,cACA,aACA,YACA,0BAGA,YACA,gBACA,aACA,qBAEA,SACA,aADA,SACA,GACA,cACA,iDAGA,cANA,SAMA,GACA,4BACA,OACA,uBAGA,eAZA,WAaA,uBACA,CACA,KACA,YACA,OACA,CACA,MACA,iBACA,OACA,CACA,YACA,kBAQA,OAhCA,WAiCA,cACA,0FACA,aADA,mBACA,gBAGA,cAtCA,WAsCA,WACA,GACA,iBACA,+BACA,UACA,OAGA,4DACA,sBACA,oBAGA,YAnDA,WAmDA,WACA,GACA,iBACA,qBACA,kCACA,cAGA,wEACA,GADA,IACA,0CACA,6BACA,+CAHA,8BAKA,cACA,6DAGA,WApEA,WAoEA,WACA,GACA,wCAEA,wDACA,aAGA,eACA,aALA,UAMA,GANA,IAMA,0CACA,gBACA,WACA,gBAEA,mBACA,oBAZA,oCAiBA,gBAzFA,SAyFA,GACA,wBACA,wBACA,iBACA,uBAEA,UA/FA,SA+FA,GACA,eADA,UAEA,aAFA,IAEA,0CACA,0BACA,kBACA,mBACA,QANA,8BASA,wBATA,UAUA,kBAVA,IAUA,0CACA,qBACA,iCACA,8CACA,2FACA,iBACA,QAhBA,gCAoBA,eAnHA,WAmHA,WACA,sCACA,gBACA,iBACA,qBACA,mCACA,cACA,kBACA,MAEA,WA7HA,WA8HA,0BACA,iBAEA,aAjIA,SAiIA,GACA,IADA,EACA,KADA,IAEA,GAFA,IAEA,4CAEA,yCACA,KAHA,IAIA,SAJA,IAIA,0CACA,UACA,qDANA,8BAQA,qDACA,IADA,EACA,KADA,IAEA,aAFA,IAEA,0CACA,cAHA,8BAKA,kBAEA,mBAEA,WAnBA,8BAqBA,UAEA,UAxJA,WAwJA,WACA,GACA,iBACA,iDACA,UACA,OAGA,4DACA,SACA,KAMA,aALA,QACA,UACA,QACA,cAEA,EAEA,wCACA,yCACA,uCACA,wCAGA,aACA,QACA,8BACA,YACA,2BAIA,2CACA,kCACA,eACA,eAHA,UAIA,UAJA,IAIA,0CAEA,8BACA,oBAGA,6BACA,qBAXA,+BAeA,WACA,SACA,0BAEA,gBACA,iBACA,2BACA,aACA,YACA,wBACA,2BACA,sBAMA,OAlQA,SAkQA,GACA,2BACA,qBACA,kBACA,uBAEA,OAxQA,WAyQA,iBACA,+BAEA,SA5QA,WA6QA,kBACA,gC,2EC/ZA,8GAAktC,eAAG,G","file":"pages/tab1/agent_n.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/tab1/agent_n.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./agent_n.vue?vue&type=template&id=68e8525a&\"\nvar renderjs\nimport script from \"./agent_n.vue?vue&type=script&lang=js&\"\nexport * from \"./agent_n.vue?vue&type=script&lang=js&\"\nimport style0 from \"./agent_n.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/tab1/agent_n.vue\"\nexport default component.exports","export * from \"-!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./agent_n.vue?vue&type=template&id=68e8525a&\"","var components\ntry {\n  components = {\n    uInput: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-input/u-input\" */ \"@/uview-ui/components/u-input/u-input.vue\"\n      )\n    },\n    uTabs: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-tabs/u-tabs\" */ \"@/uview-ui/components/u-tabs/u-tabs.vue\"\n      )\n    },\n    uLoading: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-loading/u-loading\" */ \"@/uview-ui/components/u-loading/u-loading.vue\"\n      )\n    },\n    uRow: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-row/u-row\" */ \"@/uview-ui/components/u-row/u-row.vue\"\n      )\n    },\n    uCol: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-col/u-col\" */ \"@/uview-ui/components/u-col/u-col.vue\"\n      )\n    },\n    uniCollapse: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-collapse/components/uni-collapse/uni-collapse\" */ \"@/uni_modules/uni-collapse/components/uni-collapse/uni-collapse.vue\"\n      )\n    },\n    uniCollapseItem: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-collapse/components/uni-collapse-item/uni-collapse-item\" */ \"@/uni_modules/uni-collapse/components/uni-collapse-item/uni-collapse-item.vue\"\n      )\n    },\n    uSubsection: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-subsection/u-subsection\" */ \"@/uview-ui/components/u-subsection/u-subsection.vue\"\n      )\n    },\n    uSelect: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-select/u-select\" */ \"@/uview-ui/components/u-select/u-select.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.qzjSelectShow = true\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./agent_n.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./agent_n.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view style=\"padding: 15rpx;background-color: #eaeffc;width: 100vw;\" id=\"agent_n\">\r\n\t\t<view :style=\"{backgroundColor: qzjBackground}\"\r\n\t\t\tstyle=\"display: flex;align-items: center;padding: 20rpx;border-radius: 8rpx;\">\r\n\t\t\t<image src=\"../../static/img/work/qzj_tm.png\" style=\"width: 15%;\" mode=\"widthFix\"></image>\r\n\t\t\t<u-input v-model=\"qzjName\" style=\"margin-left: 2%;font-size: 40rpx;width: 85%;\" type=\"select\"\r\n\t\t\t\t@click=\"qzjSelectShow = true\" />\r\n\t\t</view>\r\n\t\t<u-tabs :list=\"jgList\" :current=\"current\" @change=\"tabChange\" style=\"margin-top: 20rpx;\"></u-tabs>\r\n\t\t<u-loading v-if=\"loading\" style=\"margin-top: 45%;margin-left: 49.5%;\" mode=\"circle\" size=\"36\" color=\"green\">\r\n\t\t</u-loading>\r\n\t\t<view v-else>\r\n\t\t\t<!-- 总览 start -->\r\n\t\t\t<view v-if=\"jgId === 'all'\">\r\n\t\t\t\t<!-- 起重机重要信息 start -->\r\n\t\t\t\t<view\r\n\t\t\t\t\tstyle=\"color: white;background-color: #4f77e1;padding: 20rpx;border-radius: 8rpx;margin: 20rpx 0rpx;\">\r\n\t\t\t\t\t<view\r\n\t\t\t\t\t\tstyle=\"font-weight: bold;font-size: 30rpx;border-bottom: 2rpx solid white;padding-bottom: 10rpx;\">\r\n\t\t\t\t\t\t{{qzjImportName}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view style=\"margin-top: 10rpx;\">\r\n\t\t\t\t\t\t<u-row gutter=\"22\">\r\n\t\t\t\t\t\t\t<u-col span=\"6\" v-for=\"agent in qzjImportAgentList\" :key=\"agent.ID\"\r\n\t\t\t\t\t\t\t\tstyle=\"margin-top: 10rpx;\">\r\n\t\t\t\t\t\t\t\t<view style=\"display: flex;justify-content: space-between;\">\r\n\t\t\t\t\t\t\t\t\t<view>{{agent.NodeConfig.ShowName}}</view>\r\n\t\t\t\t\t\t\t\t\t<view style=\"font-weight: bold;\">\r\n\t\t\t\t\t\t\t\t\t\t<agentValue :agent=\"agent\"></agentValue>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</u-col>\r\n\t\t\t\t\t\t</u-row>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 起重机重要信息 end -->\r\n\t\t\t\t<!-- 机构主要运行信息 start -->\r\n\t\t\t\t<uni-collapse ref=\"collapseU\">\r\n\t\t\t\t\t<uni-collapse-item :open=\"true\">\r\n\t\t\t\t\t\t<template v-slot:title>\r\n\t\t\t\t\t\t\t<view style=\"background-color: #4f77e1;color: white;padding: 20rpx;\">\r\n\t\t\t\t\t\t\t\t机构主要运行信息\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<view v-for=\"item in jgAgentList\" :key=\"item.ID\" style=\"height: auto\">\r\n\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\tstyle=\"display: flex;background-color: white;align-items: center;border-bottom: 2rpx solid  #D9D9D9;\">\r\n\t\t\t\t\t\t\t\t<view style=\"width: 38%;text-align: center;\">\r\n\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\tstyle=\"color: #4f77e1;font-size: 30rpx;border: 2rpx solid #4f77e1;padding: 4rpx 16rpx;\">\r\n\t\t\t\t\t\t\t\t\t\t{{item.NodeConfig.ShowName}}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view style=\"width: 62%;box-sizing: border-box;padding-right: 8rpx;\">\r\n\t\t\t\t\t\t\t\t\t<agentInfoShow :showAll=\"false\" :qzjName=\"qzjName\"\r\n\t\t\t\t\t\t\t\t\t\t:jgName=\"item.NodeConfig.ShowName\" :agentData=\"item.importArr[0].LeafsArr\">\r\n\t\t\t\t\t\t\t\t\t</agentInfoShow>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</uni-collapse-item>\r\n\t\t\t\t\t<uni-collapse-item>\r\n\t\t\t\t\t\t<template v-slot:title>\r\n\t\t\t\t\t\t\t<view style=\"background-color: #4f77e1;color: white;padding: 20rpx;\">\r\n\t\t\t\t\t\t\t\t性能信息\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<view>asfa</view>\r\n\t\t\t\t\t</uni-collapse-item>\r\n\t\t\t\t\t<!-- 实时故障 -->\r\n\t\t\t\t\t<alarmCollapseItem :alarmList=\"alarmList\"></alarmCollapseItem>\r\n\t\t\t\t</uni-collapse>\r\n\t\t\t\t<!-- 机构主要运行信息 end -->\r\n\t\t\t</view>\r\n\t\t\t<!-- 总览 end -->\r\n\t\t\t<!-- 机构分览 start -->\r\n\t\t\t<view v-else style=\"margin-top: 20rpx;\">\r\n\t\t\t\t<!-- 具体机构主要信息 start -->\r\n\t\t\t\t<view style=\"background-color: white;\">\r\n\t\t\t\t\t<view style=\"display: flex;\">\r\n\t\t\t\t\t\t<view style=\"width: 33.3%;text-align: center;margin-top: 6rpx;\"\r\n\t\t\t\t\t\t\tv-for=\"(item,index) in oneJg.importShow\" :key=\"item.ID\">\r\n\t\t\t\t\t\t\t<view :class=\"[index !== 2 ? 'box-right' : '']\" style=\"font-size: 56rpx;color: #4f77e1;\">\r\n\t\t\t\t\t\t\t\t<agentValue :agent=\"item\"></agentValue>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view style=\"color: #48adf1;\">\r\n\t\t\t\t\t\t\t\t{{item.NodeConfig.ShowName}}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view v-if=\"oneJg.importInit.length > 3\" @click=\"goMore\"\r\n\t\t\t\t\t\tstyle=\"color: #007AFF;text-align: right;margin-right: 20rpx;margin-bottom: 8rpx;\">\r\n\t\t\t\t\t\t更多\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<u-subsection @change=\"sectionChange\" active-color=\"#18b566\" :list=\"jgSubsection.list\" :current=\"jgSubsection.current\" mode=\"subsection\"></u-subsection>\r\n\t\t\t\t<!-- 具体机构主要信息 end -->\r\n\t\t\t\t<view style=\"margin-top: 8rpx;\">\r\n\t\t\t\t\t<!-- 变量视图 start -->\r\n\t\t\t\t\t<uni-collapse v-if=\"jgSubsection.current === 0\" ref=\"collapseJg\">\r\n\t\t\t\t\t\t<uni-collapse-item v-for=\"item in oneJg.agentList\" :key=\"item.ID\">\r\n\t\t\t\t\t\t\t<template v-slot:title>\r\n\t\t\t\t\t\t\t\t<view style=\"background-color: #4f77e1;color: white;padding: 20rpx;\">\r\n\t\t\t\t\t\t\t\t\t{{item.NodeConfig.ShowName}}\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t<agentInfoShow :agentData=\"item.LeafsArr\">\r\n\t\t\t\t\t\t\t\t</agentInfoShow>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</uni-collapse-item>\r\n\t\t\t\t\t</uni-collapse>\r\n\t\t\t\t\t<!-- 变量视图 end -->\r\n\t\t\t\t\t<!-- 设备视图 start -->\r\n\t\t\t\t\t<uni-collapse v-else ref=\"collapseDevice\">\r\n\t\t\t\t\t\t<uni-collapse-item v-for=\"item in oneJg.deviceList\" :key=\"item.id\">\r\n\t\t\t\t\t\t\t<template v-slot:title>\r\n\t\t\t\t\t\t\t\t<view style=\"background-color: #4f77e1;color: white;padding: 20rpx;\">\r\n\t\t\t\t\t\t\t\t\t{{item.name}}\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t<view style=\"padding: 10rpx;\">\r\n\t\t\t\t\t\t\t\t<view v-for=\"itemT in item.child\" :key=\"itemT.id\" style=\"border: 2rpx solid #4f77e1;padding: 10rpx;\">\r\n\t\t\t\t\t\t\t\t\t<view @click=\"goDeviceInfo(itemT)\" style=\"color: #4f77e1;font-size: 30rpx;border-bottom: 2rpx solid #DCDFE6;\r\n\t\t\t\t\t\t\t\t\tpadding-bottom: 6rpx;margin-bottom: 6rpx;\">{{itemT.name}}</view>\r\n\t\t\t\t\t\t\t\t\t<view>12</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</uni-collapse-item>\r\n\t\t\t\t\t</uni-collapse>\r\n\t\t\t\t\t<!-- 设备视图 end -->\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 机构分览 end -->\r\n\r\n\t\t</view>\r\n\t\t<u-select v-model=\"qzjSelectShow\" :list=\"qzjList\" @confirm=\"qzjSelectChange\">\r\n\t\t</u-select>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport agentInfoShow from '../../components/common/agentInfoShow.vue'\r\n\timport agentValue from '../../components/common/agentValue.vue'\r\n\timport alarmCollapseItem from '../../components/common/alarmCollapseItem.vue'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tjgSubsection: {\r\n\t\t\t\t\tlist:[{\r\n\t\t\t\t\t\tname: '变量视图'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: '设备视图'\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tcurrent: 0\r\n\t\t\t\t},\r\n\t\t\t\tcraneId: 0,\r\n\t\t\t\tjgId: 0,\r\n\t\t\t\tqzjName: '',\r\n\t\t\t\tjgName: '',\r\n\t\t\t\tqzjSelectShow: false,\r\n\t\t\t\tjgList: [],\r\n\t\t\t\tqzjList: [],\r\n\t\t\t\tcurrent: 0,\r\n\t\t\t\toneJg: {\r\n\t\t\t\t\tagentList: [],\r\n\t\t\t\t\timportInit: [],\r\n\t\t\t\t\timportShow: [],\r\n\t\t\t\t\tdeviceList: []\r\n\t\t\t\t},\r\n\t\t\t\tqzjImportAgentList: [],\r\n\t\t\t\tjgAgentList: [],\r\n\t\t\t\tqzjImportName: '',\r\n\t\t\t\tloading: false,\r\n\t\t\t\ttimer: null,\r\n\t\t\t\talarmNodeId: 0,\r\n\t\t\t\talarmList: [],\r\n\t\t\t\tinitLoad: true,\r\n\t\t\t\tqzjBackground: '#48adf1'\r\n\t\t\t};\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tagentInfoShow,\r\n\t\t\tagentValue,\r\n\t\t\talarmCollapseItem\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgoDeviceInfo(data) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: \"../tab1/bccshow?info=\" + JSON.stringify(data)\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tsectionChange(index) {\r\n\t\t\t\tthis.jgSubsection.current = index\r\n\t\t\t\tif (index === 1) {\r\n\t\t\t\t\tthis.getDeviceGroup()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetDeviceGroup() {\r\n\t\t\t\tthis.oneJg.deviceList = [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: 1,\r\n\t\t\t\t\t\tname: '驱控设备',\r\n\t\t\t\t\t\tchild: [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tid: 10,\r\n\t\t\t\t\t\t\t\tname: '1#10bcc设备',\r\n\t\t\t\t\t\t\t\tchild: [\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tname: '给定档位',\r\n\t\t\t\t\t\t\t\t\t\tvalue: '2档'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\tgoMore() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: \"../tab1/agentdetail?agent=\" + JSON.stringify(this.oneJg.importInit) +\r\n\t\t\t\t\t\t`&qzjName=${this.qzjName}&jgName=${this.jgName}`\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgetAllAlarmId() {\r\n\t\t\t\tlet p = {\r\n\t\t\t\t\tcid: this.craneId,\r\n\t\t\t\t\tTags: JSON.stringify([\"alarm\"]),\r\n\t\t\t\t\ttoLevel: 3,\r\n\t\t\t\t\tcal: 0\r\n\t\t\t\t}\r\n\t\t\t\t// 起重机重要信息:c_mechanism + 机构重要信息:mechanism\r\n\t\t\t\tthis.$myHttp('AgentTree/GetNodesByTag', p).then(res => {\r\n\t\t\t\t\tthis.alarmNodeId = res[0].ID\r\n\t\t\t\t\tthis.getAllAlarm()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetAllAlarm() {\r\n\t\t\t\tlet p = {\r\n\t\t\t\t\tCID: this.craneId,\r\n\t\t\t\t\tNID: this.alarmNodeId,\r\n\t\t\t\t\tPrioritys: JSON.stringify([2, 3, 4]),\r\n\t\t\t\t\tLastMinite: 0\r\n\t\t\t\t}\r\n\t\t\t\t// 起重机重要信息:c_mechanism + 机构重要信息:mechanism\r\n\t\t\t\tthis.$myHttp('Alarm/GetRealAlarmsByNode', p).then(res => {\r\n\t\t\t\t\tfor (let item of res) {\r\n\t\t\t\t\t\titem['时间'] = item['时间'].substr(0, 19)\r\n\t\t\t\t\t\titem['清除时间'] = item['清除时间'] ? item['清除时间'].substr(0, 19) : ''\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.alarmList = res\r\n\t\t\t\t\tthis.qzjBackground = this.alarmList.length > 0 ? '#feb837' : '#48adf1'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetQzjList() {\r\n\t\t\t\tconst data = {\r\n\t\t\t\t\tSessionId: uni.getStorageSync('password')\r\n\t\t\t\t}\r\n\t\t\t\tthis.$myHttp('WaterData/CraneInfo', data).then(res => {\r\n\t\t\t\t\tif (!res.cranes) {\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst cranes = res.cranes\r\n\t\t\t\t\tthis.qzjList = []\r\n\t\t\t\t\tfor (let item of cranes) {\r\n\t\t\t\t\t\tthis.qzjList.push({\r\n\t\t\t\t\t\t\tvalue: item.ID,\r\n\t\t\t\t\t\t\tlabel: item.起重机名称\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tif (item.ID === this.craneId) {\r\n\t\t\t\t\t\t\tthis.qzjName = item.起重机名称\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tqzjSelectChange(val) {\r\n\t\t\t\tthis.craneId = val[0].value\r\n\t\t\t\tthis.qzjName = val[0].label\r\n\t\t\t\tthis.initLoad = true\r\n\t\t\t\tthis.initAgentGroup()\r\n\t\t\t},\r\n\t\t\ttabChange(index) {\r\n\t\t\t\tthis.current = index;\r\n\t\t\t\tfor (let item of this.jgList) {\r\n\t\t\t\t\tif (this.current == item.index) {\r\n\t\t\t\t\t\tthis.jgId = item.value\r\n\t\t\t\t\t\tthis.jgName = item.name\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.oneJg.agentList = []\r\n\t\t\t\tfor (let item of this.jgAgentList) {\r\n\t\t\t\t\tif (item.ID === this.jgId) {\r\n\t\t\t\t\t\tthis.oneJg.agentList = item.commonArr\r\n\t\t\t\t\t\tthis.oneJg.importInit = item.importArr[0].LeafsArr\r\n\t\t\t\t\t\tthis.oneJg.importShow = this.oneJg.importInit.length > 3 ? this.oneJg.importInit.slice(0, 3) : this\r\n\t\t\t\t\t\t\t.oneJg.importInit\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tinitAgentGroup() {\r\n\t\t\t\tthis.timer && clearInterval(this.timer);\r\n\t\t\t\tthis.loading = true\r\n\t\t\t\tthis.getJgList()\r\n\t\t\t\tthis.getAllAlarmId()\r\n\t\t\t\tthis.timer = setInterval(() => {\r\n\t\t\t\t\tthis.getJgList()\r\n\t\t\t\t\tthis.getAllAlarm()\r\n\t\t\t\t}, 10000);\r\n\t\t\t},\r\n\t\t\tclearTimer() {\r\n\t\t\t\tclearInterval(this.timer);\r\n\t\t\t\tthis.timer = null;\r\n\t\t\t},\r\n\t\t\tdoAgentOrder(data) {\r\n\t\t\t\tlet result = []\r\n\t\t\t\tfor (let item of data) {\r\n\t\t\t\t\t// 排序\r\n\t\t\t\t\tlet leafOrder = JSON.parse(item.NodeConfig.Options || '{}')\r\n\t\t\t\t\tlet objLeafByID = {}\r\n\t\t\t\t\tfor (let aItem of item.Leafs) {\r\n\t\t\t\t\t\tobjLeafByID[aItem.ID] = aItem\r\n\t\t\t\t\t\taItem.optionsObj = JSON.parse(aItem.NodeConfig.Options || '{}')\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (leafOrder.leafOrder && item.Leafs.length === leafOrder.leafOrder.length) {\r\n\t\t\t\t\t\tlet leafsArrOrder = []\r\n\t\t\t\t\t\tfor (let i of leafOrder.leafOrder) {\r\n\t\t\t\t\t\t\tleafsArrOrder.push(objLeafByID[i])\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\titem.LeafsArr = leafsArrOrder\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\titem.LeafsArr = item.Leafs\r\n\t\t\t\t\t}\r\n\t\t\t\t\tresult.push(item)\r\n\t\t\t\t}\r\n\t\t\t\treturn result\r\n\t\t\t},\r\n\t\t\tgetJgList() {\r\n\t\t\t\tlet p = {\r\n\t\t\t\t\tcid: this.craneId,\r\n\t\t\t\t\tTags: JSON.stringify(['mechanism', 'c_mechanism']),\r\n\t\t\t\t\ttoLevel: 0,\r\n\t\t\t\t\tcal: 1\r\n\t\t\t\t}\r\n\t\t\t\t// 起重机重要信息:c_mechanism + 机构重要信息:mechanism\r\n\t\t\t\tthis.$myHttp('AgentTree/GetNodesByTag', p).then(res => {\r\n\t\t\t\t\tlet jgListTemp = []\r\n\t\t\t\t\tlet jgAgentListTemp = []\r\n\t\t\t\t\tjgListTemp.push({\r\n\t\t\t\t\t\tname: '总览',\r\n\t\t\t\t\t\tindex: 0,\r\n\t\t\t\t\t\tvalue: 'all'\r\n\t\t\t\t\t})\r\n\t\t\t\t\tfor (let i in res) {\r\n\t\t\t\t\t\t// 起重机主要信息\r\n\t\t\t\t\t\tif (res[i].NodeConfig.Tag === 'c_mechanism') {\r\n\t\t\t\t\t\t\tthis.qzjImportName = res[i].NodeConfig.ShowName\r\n\t\t\t\t\t\t\tlet temp = this.doAgentOrder([res[i].Childs[0]])\r\n\t\t\t\t\t\t\tthis.qzjImportAgentList = temp[0].LeafsArr\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// 机构信息\r\n\t\t\t\t\t\t\tjgAgentListTemp.push(res[i])\r\n\t\t\t\t\t\t\tjgListTemp.push({\r\n\t\t\t\t\t\t\t\tname: res[i].NodeConfig.ShowName,\r\n\t\t\t\t\t\t\t\tindex: i * 1 + 1,\r\n\t\t\t\t\t\t\t\tvalue: res[i].NodeConfig.ID\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor (let item of jgAgentListTemp) {\r\n\t\t\t\t\t\titem.Childs = this.doAgentOrder(item.Childs)\r\n\t\t\t\t\t\titem.importArr = []\r\n\t\t\t\t\t\titem.commonArr = []\r\n\t\t\t\t\t\tfor (let agentItem of item.Childs) {\r\n\t\t\t\t\t\t\t// 机构主要信息\r\n\t\t\t\t\t\t\tif (agentItem.NodeConfig.Tag === 'outline') {\r\n\t\t\t\t\t\t\t\titem.importArr.push(agentItem)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// 机构分组信息\r\n\t\t\t\t\t\t\tif (agentItem.NodeConfig.Tag === 'common') {\r\n\t\t\t\t\t\t\t\titem.commonArr.push(agentItem)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.jgList = jgListTemp\r\n\t\t\t\t\tif (!this.jgId) {\r\n\t\t\t\t\t\tthis.jgId = this.jgList[0].value\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.jgAgentList = jgAgentListTemp\r\n\t\t\t\t\tconsole.log(111)\r\n\t\t\t\t\tconsole.log(this.jgAgentList)\r\n\t\t\t\t\tthis.loading = false\r\n\t\t\t\t\tif (this.initLoad) {\r\n\t\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\t\tthis.$refs.collapseU.resize();\r\n\t\t\t\t\t\t\tthis.initLoad = false\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(e) {\r\n\t\t\tlet temp = JSON.parse(e.system)\r\n\t\t\tthis.craneId = temp.起重机ID\r\n\t\t\tthis.getQzjList()\r\n\t\t\tthis.initAgentGroup()\r\n\t\t},\r\n\t\tonHide() {\r\n\t\t\tconsole.log(666)\r\n\t\t\tthis.timer && this.clearTimer();\r\n\t\t},\r\n\t\tonUnload() {\r\n\t\t\tconsole.log(2323)\r\n\t\t\tthis.timer && this.clearTimer();\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t#agent_n {\r\n\t\t.u-input__input {\r\n\t\t\tcolor: white;\r\n\t\t\tfont-size: 36rpx;\r\n\t\t}\r\n\r\n\t\t.uni-collapse-item__title.uni-collapse-item-border {\r\n\t\t\tbackground-color: #4f77e1;\r\n\t\t}\r\n\r\n\t\t.box-right {\r\n\t\t\tborder-right: 4rpx solid #4f77e1;\r\n\t\t}\r\n\r\n\t\t.uni-icons {\r\n\t\t\tcolor: white !important;\r\n\t\t}\r\n\r\n\t\t.u-icon__icon {\r\n\t\t\tcolor: white !important;\r\n\t\t}\r\n\r\n\t\t.u-time-axis-node {\r\n\t\t\tbackground-color: transparent !important;\r\n\t\t}\r\n\r\n\t\t.u-time-axis::before {\r\n\t\t\tborder-left-color: #ff7226 !important;\r\n\t\t\tborder-left-width: 2px !important;\r\n\t\t\tbottom: -10rpx\r\n\t\t}\r\n\t}\r\n\r\n\t.uni-navigate-badge {\r\n\t\tpadding-right: 50upx;\r\n\t}\r\n\r\n\t.ul {\r\n\t\tcolor: #8f8f94;\r\n\t\tmargin-top: 50upx;\r\n\t}\r\n\r\n\t.ul>view {\r\n\t\tline-height: 50upx;\r\n\t}\r\n\r\n\t.page-body {\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.nav {\r\n\t\tdisplay: flex;\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.nav-left {\r\n\t\twidth: 15%;\r\n\t\tbackground-color: #eee;\r\n\t}\r\n\r\n\t.nav-left-item {\r\n\t\tborder-bottom: solid 2px white;\r\n\t\theight: 100upx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.nav-right {\r\n\t\twidth: 85%;\r\n\t\tpadding-left: 10upx;\r\n\t}\r\n\r\n\t.nav-right-item {\r\n\t\tborder-bottom: solid 2px #D9D9D9;\r\n\t\twidth: 100%;\r\n\t\theight: 150upx;\r\n\t\tfloat: left;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tflex-wrap: wrap;\r\n\t}\r\n\r\n\t.nav-right-item image {\r\n\t\twidth: 100upx;\r\n\t\theight: 150upx;\r\n\t}\r\n</style>\n","import mod from \"-!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./agent_n.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./agent_n.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}