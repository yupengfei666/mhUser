(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/main/tab4"],{8196:function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=e("26cb");function i(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,o)}return e}function a(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?i(Object(e),!0).forEach((function(n){s(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):i(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function s(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var r={data:function(){return{userInfo:null,yonghu:"",jituan:"",gongsi:"",zhiwu:"",indicatorDots:!0}},computed:a({},(0,o.mapState)(["hasLogin","forcedLogin","functionList","url"])),methods:a(a({},(0,o.mapMutations)(["logout"])),{},{gongzhonghao:function(){t.navigateTo({url:"../tab4/gongzhonghao"})},weixin1:function(){t.navigateTo({url:"../tab4/get-user-info"})},weixin2:function(){t.navigateTo({url:"../tab4/weixin"})},bindAbout:function(){t.navigateTo({url:"../tab4/about"})},bindLogout:function(){t.removeStorageSync("password"),t.removeStorageSync("systemCheck"),t.reLaunch({url:"../main/login"})},bindWenTiFanKui:function(){t.navigateTo({url:"../tab4/wentifankui"})},tapSwitchChange:function(){this.indicatorDots=!this.indicatorDots},switchChange:function(n){t.setStorage({key:"ShengYinTiXing",data:n.target.value})},checkMusic:function(){t.navigateTo({url:"../tab4/checkmusic"})},set:function(){t.navigateTo({url:"../tab4/set"})},getUserInfo:function(){var n=this;t.getUserInfo({provider:this.loginProvider,success:function(t){console.log("getUserInfo success",t),n.userInfo=t.userInfo},fail:function(n){console.log("getUserInfo fail",n);var e=n.errMsg;~e.indexOf("uni.login")&&(e="请在登录页面完成登录操作"),t.getSetting({success:function(n){var o=n.authSetting["scope.userInfo"];o?t.showModal({title:"获取用户信息失败",content:"错误原因"+e,showCancel:!1}):t.showModal({title:"授权失败",content:"Hello uni-app需要获取您的用户信息，请在设置界面打开相关权限",success:function(n){n.confirm&&t.openSetting()}})}})}})},mpClearUserInfo:function(){this.userInfo="获取不到用户信息",t.request({url:this.url+"WeChat/SetUserImageUrl",header:{"content-type":"application/json",sessionkey:t.getStorageSync("password")},data:{ImageUrl:""},method:"GET",dataType:"json",success:function(n){200!==n.statusCode&&(console.log("请求失败:",n),401===n.statusCode?t.reLaunch({url:"../main/login"}):t.showToast({icon:"none",title:n.data}))},fail:function(){t.showToast({icon:"none",title:"网络连接失败"})}})},mpGetUserInfo:function(n){console.log("mpGetUserInfo",n),"getUserInfo:ok"===n.detail.errMsg?(this.userInfo=n.detail.userInfo,console.log(JSON.stringify(this.userInfo)),t.request({url:this.url+"WeChat/SetUserImageUrl",header:{"content-type":"application/json",sessionkey:t.getStorageSync("password")},data:{ImageUrl:JSON.stringify(this.userInfo)},method:"GET",dataType:"json",success:function(n){200!==n.statusCode&&(console.log("请求失败:",n),401===n.statusCode?t.reLaunch({url:"../main/login"}):t.showToast({icon:"none",title:n.data}))},fail:function(){t.showToast({icon:"none",title:"网络连接失败"})}})):t.showModal({title:"获取用户信息失败",content:"错误原因"+n.detail.errMsg,showCancel:!1})},GetUserImageUrl:function(){var n=this;t.request({url:this.url+"WeChat/GetUserImageUrl",header:{"content-type":"application/json",sessionkey:t.getStorageSync("password")},method:"GET",dataType:"json",success:function(e){200!==e.statusCode?(console.log("请求失败:",e),401===e.statusCode&&t.reLaunch({url:"../main/login"})):("获取不到用户信息"===e.data?n.userInfo="获取不到用户信息":n.userInfo=JSON.parse(e.data),console.log(n.userInfo))},fail:function(){t.showToast({icon:"none",title:"网络连接失败"})}})}}),onShow:function(){this.GetUserImageUrl()},onLoad:function(){var n=this;t.getStorage({key:"yonghu",success:function(t){n.yonghu=t.data},fail:function(){n.yonghu=""}}),t.getStorage({key:"jituan",success:function(t){n.jituan=t.data},fail:function(){n.jituan=""}}),t.getStorage({key:"gongsi",success:function(t){n.gongsi=t.data},fail:function(){n.gongsi=""}}),t.getStorage({key:"zhiwu",success:function(t){n.zhiwu=t.data},fail:function(){n.zhiwu=""}})}};n.default=r}).call(this,e("543d")["default"])},"84df":function(t,n,e){"use strict";e.r(n);var o=e("8196"),i=e.n(o);for(var a in o)"default"!==a&&function(t){e.d(n,t,(function(){return o[t]}))}(a);n["default"]=i.a},9937:function(t,n,e){},a400:function(t,n,e){"use strict";var o=e("9937"),i=e.n(o);i.a},b260:function(t,n,e){"use strict";e.r(n);var o=e("f457"),i=e("84df");for(var a in i)"default"!==a&&function(t){e.d(n,t,(function(){return i[t]}))}(a);e("a400");var s,r=e("f0c5"),u=Object(r["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],s);n["default"]=u.exports},bb44:function(t,n,e){"use strict";(function(t){e("52a8");o(e("66fd"));var n=o(e("b260"));function o(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=e,t(n.default)}).call(this,e("543d")["createPage"])},f457:function(t,n,e){"use strict";var o;e.d(n,"b",(function(){return i})),e.d(n,"c",(function(){return a})),e.d(n,"a",(function(){return o}));var i=function(){var t=this,n=t.$createElement,e=(t._self._c,t.functionList.indexOf("关注美恒公众号")),o=t.functionList.indexOf("联系美恒客服"),i=t.functionList.indexOf("问题反馈"),a=t.functionList.indexOf("关于");t.$mp.data=Object.assign({},{$root:{g0:e,g1:o,g2:i,g3:a}})},a=[]}},[["bb44","common/runtime","common/vendor"]]]);