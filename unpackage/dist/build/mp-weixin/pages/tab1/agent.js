(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tab1/agent"],{5737:function(t,n,e){"use strict";function r(t,n){var e;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=i(t))||n&&t&&"number"===typeof t.length){e&&(t=e);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,l=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return u=t.done,t},e:function(t){l=!0,a=t},f:function(){try{u||null==e.return||e.return()}finally{if(l)throw a}}}}function i(t,n){if(t){if("string"===typeof t)return o(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?o(t,n):void 0}}function o(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a={data:function(){return{craneId:0,jgId:0,jgList:[],current:0,agentList:[],loading:!1,timer:null}},methods:{change:function(t){console.log(t),console.log(this.jgList),this.current=t;var n,e=r(this.jgList);try{for(e.s();!(n=e.n()).done;){var i=n.value;if(this.current==i.index){this.jgId=i.value;break}}}catch(o){e.e(o)}finally{e.f()}this.initAgentGroup()},initAgentGroup:function(){var t=this;this.timer&&clearInterval(this.timer),this.loading=!0,this.getAgentGroup(),this.timer=setInterval((function(){t.getAgentGroup()}),1e4)},clearTimer:function(){clearInterval(this.timer),this.timer=null},getAgentGroup:function(){var t=this,n={cid:this.craneId,Nid:this.jgId,toLevel:0,cal:1};this.$myHttp("AgentTree/GetNodesByID",n).then((function(n){t.agentList=[];var e,i=r(n.Childs);try{for(i.s();!(e=i.n()).done;){var o=e.value,a=JSON.parse(o.NodeConfig.Options||"{}");if(a.leafOrder&&o.Leafs.length===a.leafOrder.length){var u,l=[],s={},c=r(o.Leafs);try{for(c.s();!(u=c.n()).done;){var f=u.value;s[f.ID]=f,f.optionsObj=JSON.parse(f.NodeConfig.Options||"{}")}}catch(h){c.e(h)}finally{c.f()}var d,g=r(a.leafOrder);try{for(g.s();!(d=g.n()).done;){var v=d.value;l.push(s[v])}}catch(h){g.e(h)}finally{g.f()}o.LeafsArr=l}"common"!==o.NodeConfig.Tag&&"important"!==o.NodeConfig.Tag||t.agentList.push(o)}}catch(h){i.e(h)}finally{i.f()}t.loading=!1}))},getJgList:function(){var t=this,n={cid:this.craneId,Tags:JSON.stringify(["mechanism"]),toLevel:2,cal:0};this.jgList=[],this.$myHttp("AgentTree/GetNodesByTag",n).then((function(n){for(var e in console.log(n),n)t.jgList.push({name:n[e].NodeConfig.ShowName,index:e,value:n[e].NodeConfig.ID});t.jgId=t.jgList[0].value,t.initAgentGroup()}))}},onLoad:function(t){var n=JSON.parse(t.system);this.craneId=n.起重机ID,this.getJgList()},onUnload:function(){console.log(222),this.timer&&this.clearTimer()}};n.default=a},"8129c":function(t,n,e){"use strict";e.r(n);var r=e("baec"),i=e("cce7");for(var o in i)"default"!==o&&function(t){e.d(n,t,(function(){return i[t]}))}(o);e("9167");var a,u=e("f0c5"),l=Object(u["a"])(i["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],a);n["default"]=l.exports},9167:function(t,n,e){"use strict";var r=e("f332"),i=e.n(r);i.a},baec:function(t,n,e){"use strict";e.d(n,"b",(function(){return i})),e.d(n,"c",(function(){return o})),e.d(n,"a",(function(){return r}));var r={uTabs:function(){return Promise.all([e.e("common/vendor"),e.e("uview-ui/components/u-tabs/u-tabs")]).then(e.bind(null,"0677"))},uLoading:function(){return e.e("uview-ui/components/u-loading/u-loading").then(e.bind(null,"af57"))},uCollapse:function(){return e.e("uview-ui/components/u-collapse/u-collapse").then(e.bind(null,"a097"))},uCollapseItem:function(){return e.e("uview-ui/components/u-collapse-item/u-collapse-item").then(e.bind(null,"8b29"))}},i=function(){var t=this,n=t.$createElement,e=(t._self._c,t.loading?null:t.__map(t.agentList,(function(n,e){var r=t.__get_orig(n),i=t.__map(n.LeafsArr,(function(n,e){var r=t.__get_orig(n),i=(n.optionsObj.TrueText||n.optionsObj.FalseText)&&"0"===n.val||(n.optionsObj.TrueText||n.optionsObj.FalseText)&&"1"===n.val||"Digital"===n.optionsObj.agentType&&"1"===n.val||"Digital"===n.optionsObj.agentType&&"0"===n.val?null:(1*n.val).toFixed(n.optionsObj.小数点位数);return{$orig:r,g0:i}}));return{$orig:r,l0:i}})));t.$mp.data=Object.assign({},{$root:{l1:e}})},o=[]},c50a:function(t,n,e){"use strict";(function(t){e("52a8");r(e("66fd"));var n=r(e("8129c"));function r(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=e,t(n.default)}).call(this,e("543d")["createPage"])},cce7:function(t,n,e){"use strict";e.r(n);var r=e("5737"),i=e.n(r);for(var o in r)"default"!==o&&function(t){e.d(n,t,(function(){return r[t]}))}(o);n["default"]=i.a},f332:function(t,n,e){}},[["c50a","common/runtime","common/vendor"]]]);